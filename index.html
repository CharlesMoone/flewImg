<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1.0, user-scalable=no" />
    <title>基于flex的图片布局</title>
    <style>
        body {
            margin: 0;
            display: flex;
            display: -webkit-flex;
            flex-wrap: wrap;
        }
        div {
            display: inherit;
            flex-wrap: wrap;
            align-content: flex-start;
            padding: 10px 0.5%;
        }
        div img {
            width: 100%;
            height: 100%;
            margin: 0 0 10px;
        }
    </style>
</head>
<body>
<script src="compatible.js"></script>
<script src="imageClass.js"></script>
<script>

    window.onload = function () {
        var image = new ImageClass();
        image.init();
        image.widthCheck(document.body.clientWidth);
        image.pull();

        window.onresize = function (e) {
            image.widthCheck(e.currentTarget.innerWidth);
        };

        window.onscroll = function () {
            if (compatible.getScrollTop() + compatible.getWindowHeight() == compatible.getScrollHeight()) {
                image.pull();
            }
        };
    };

</script>
</body>
</html>